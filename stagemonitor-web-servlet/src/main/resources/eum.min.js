(function(){(function(){function U(){for(var a='',b=0;16>b;b++)a+=pa[Math.round(15*Math.random())];return a}function p(){return(new Date).getTime()}function qa(a,b){a.addEventListener?a.addEventListener('load',b,!1):a.attachEvent&&a.attachEvent('onload',b)}function H(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c].test(b))return!0;return!1}function V(){y.time=p();var a=y.time,b=N[y.name];if(b)for(var c=0,d=b.length;c<d;c++)b[c](a)}function O(a,b){u[a]=b}function B(a){v=a;u[a].w()}function W(){B('pageLoaded')}function C(a){a.k=
d.G;a.r=d.b;a.p=d.page;a.pl=d.g;a.ui=d.Y;a.un=d.userName;a.ue=d.X;a.ul=X;a.ph=u[v].j();a.ww=e.innerWidth;a.wh=e.innerHeight;Y.visibilityState&&(a.h='hidden'===Y.visibilityState?1:0);for(var b in d.v)P.call(d.v,b)&&(a['m_'+b]=d.v[b])}function I(){this.root={}}function Q(a){var b=[],c;for(c in a)P.call(a,c)&&b.push(c);return b}function Z(a,b){if(R&&e.JSON){if(d.L)a.res='resource timing transmission is disabled';else{var c;c=m.getEntriesByType('resource');for(var n=new I,f=0,h=c.length;f<h;f++){var g=
c[f];if(!(null!=b&&g.startTime-d.H+d.b<b)){var k=g.name,r=k.toLowerCase();'about:blank'!==r&&0!==r.indexOf('javascript:')&&(255<k.length&&(k=k.substring(0,255)),('xmlhttprequest'!==g.initiatorType||g.startTime<d.H)&&n.da(k,ra(g)))}}c=n.V();a.res=e.JSON.stringify(c)}d.K&&m.clearResourceTimings&&m.clearResourceTimings()}}function ra(a){var b=[Math.round(a.startTime-d.H),Math.round(a.duration),aa[a.initiatorType]||aa.other];'number'===typeof a.transferSize&&'number'===typeof a.encodedBodySize&&0<a.transferSize?
(0===a.transferSize?b.push(S.ea):0<a.transferSize&&(0===a.encodedBodySize||a.transferSize<a.encodedBodySize)?b.push(S.oa):b.push(S.ha),b.push(a.encodedBodySize||''),b.push(a.decodedBodySize||''),b.push(a.transferSize||'')):(b.push(''),b.push(''),b.push(''),b.push(''));null!=a.responseStart&&a.responseStart>=a.fetchStart&&(b.push(w(a.redirectEnd,a.redirectStart)),b.push(w(a.domainLookupStart,a.fetchStart)),b.push(w(a.domainLookupEnd,a.domainLookupStart)),null!=a.secureConnectionStart&&0<a.secureConnectionStart?
(b.push(w(a.secureConnectionStart,a.connectStart)),b.push(w(a.connectEnd,a.secureConnectionStart))):(b.push(w(a.connectEnd,a.connectStart)),b.push('')),b.push(w(a.responseStart,a.requestStart)),b.push(w(a.responseEnd,a.responseStart)));return b.join(',').replace(/,+$/,'')}function w(a,b){if(null==a||null==b||a===b)return'';var c=Math.round(a-b);return 0>c?'':c}function z(a){var b='',c;for(c in a)P.call(a,c)&&null!=a[c]&&(b+='&'+ba(c)+'='+ba(String(a[c])));a=b.substring(1);0!==a.length&&(t&&a.length>
d.T?(b=new t,b.open('POST',String(d.B),!0),b.setRequestHeader('Content-type','application/x-www-form-urlencoded;charset=UTF-8'),b.responseType='text',b.timeout=d.ca,b.send(a)):(new Image).src=String(d.B)+'?'+a)}function ca(){if(!T)return d.o;var a=m.timing;return a.fetchStart-(a.redirectEnd-a.redirectStart)}function da(a,b){var c=null;e.chrome&&e.chrome.loadTimes?c=1E3*e.chrome.loadTimes().firstPaintTime:'number'===typeof e.performance.timing.ja?c=e.performance.timing.ja:'number'===typeof e.performance.timing.ga&&
(c=e.performance.timing.ga);null!=c&&0!==c&&(a.t_fp=Math.round(c-b))}function ea(a){return d.N&&sa.test(a)?!0:H(d.O,a)}function ta(){var a=e.onerror;e.onerror=function(b,c,d,f,e){if(J)J=!1;else{var g=e&&e.stack;g||(g='at '+c+' '+d,null!=f&&(g+=':'+f));fa(b,g)}if('function'===typeof a)return a.apply(this,arguments)}}function D(a){fa(a.message,a.stack)}function fa(a,b){if(a&&!(100<ga)&&a&&!H(d.M,a)){20<=K&&(A={},K=0);a=String(a).substring(0,300);b=String(b||'').split('\n').slice(0,30).join('\n');var c=
e.location.href,n=u[v].f(),f=a+b+c+n,h=A[f];h?h.I++:(A[f]={message:a,stack:b,location:c,la:n,I:1,W:0},K++);L||(L=setTimeout(ua,1E3))}}function ua(){clearTimeout(L);L=null;for(var a in A)if(A.hasOwnProperty(a)){var b=A[a];if(b.I>b.W){var c=E(),b={s:c,t:b.la||c,ts:p(),ty:'err',l:b.location,e:b.message,st:b.stack,c:b.I-b.W};C(b);z(b);ga++}}A={};K=0}function va(a){null==a.reason?D({message:'Unhandled promise rejection: <no reason defined>',stack:"<unavailable because Promise wasn't rejected with an Error object>"}):
'string'===typeof a.reason.message?D({message:'Unhandled promise rejection: '+a.reason.message,stack:'string'===typeof a.reason.stack?a.reason.stack:"<unavailable because Promise wasn't rejected with an Error object>"}):'object'!==typeof a.reason&&D({message:'Unhandled promise rejection: '+a.reason,stack:"<unavailable because Promise wasn't rejected with an Error object>"})}function ha(a){if(!M)return a;try{return M.href=a,M.href}catch(b){return a}}function ia(a){if(!x||!q)return!1;try{return x.href=
a,(x.protocol&&':'!==x.protocol?x.protocol:q.protocol)===q.protocol&&(x.hostname||q.hostname)===q.hostname&&(x.port||q.port)===q.port}catch(b){return!1}}function wa(){function a(){function a(a){k||0!==g.st||(g.st=a,g.d=p()-(g.ts+d.b),z(g))}var c=new t,n=c.open,f=c.setRequestHeader,h=c.send,g={ts:0,d:0,ty:'xhr',l:e.location.href,m:'',u:'',a:1,st:0,e:void 0},k=!1,r=void 0,l=void 0,m=!1,q=Math.random()<=d.sampleRate?1:0;c.addEventListener('timeout',function(){k||a(F.timeout)});c.addEventListener('error',
function(b){k||(b=b&&(b.error&&b.error.message||b.message),'string'===typeof b&&(g.e=b.substring(0,300)),a(F.error))});c.addEventListener('abort',function(){k||a(F.abort)});c.addEventListener('readystatechange',function(){if(!k&&4===c.readyState){var b=void 0;try{b=c.status}catch(Fa){a(F.error);return}0!==b&&a(b)}});c.open=function(a,b,f){var e=ea(b);if(k=k||e)return n.apply(c,arguments);void 0===f&&(f=!0);r=u[v].f();l=E();r||(r=l);m=ia(b)||H(d.J,b);g.t=r;g.s=l;g.m=a;g.u=ha(b);g.a=f?1:0;g.sp=q;g.bc=
m?1:0;try{return n.apply(c,arguments)}catch(ja){throw g.ts=p()-d.b,g.st=F.ka,g.e=ja.message,C(g),z(g),ja;}};c.setRequestHeader=function(a){xa.test(a)&&(k=!0);return f.apply(c,arguments)};c.send=function(){if(k)return h.apply(c,arguments);m&&(f.call(c,'X-INSTANA-T',r),f.call(c,'X-INSTANA-S',l),f.call(c,'X-INSTANA-L',q));g.ts=p()-d.b;C(g);return h.apply(c,arguments)};return c}t&&(new t).addEventListener&&(a.prototype=t.prototype,a.DONE=t.DONE,a.HEADERS_RECEIVED=t.HEADERS_RECEIVED,a.LOADING=t.LOADING,
a.OPENED=t.OPENED,a.UNSENT=t.UNSENT,e.XMLHttpRequest=a)}function ya(){if(!R)return null;for(var a=m.getEntriesByType('navigation'),b=0;b<a.length;b++){var c=a[b];if(null!=c.serverTiming)for(var e=0;e<c.serverTiming.length;e++){var f=c.serverTiming[e];if(f.name===d.ma)return f.description}}return null}function za(a,b,c){var e=a[d.F]=a[d.F]||[];a=ka(a,c);if(-1!==a)return e[a].ba;e.push({ba:b,pa:c});return b}function ka(a,b){for(var c=a[d.F],e=0;e<c.length;e++){var f;a:if(f=c[e].pa,f.length!==b.length)f=
!1;else{for(var h=0;h<f.length;h++)if(f[h]!==b[h]){f=!1;break a}f=!0}if(f)return e}return-1}function Aa(a){if(a&&'function'===typeof a.prototype.addEventListener&&'function'===typeof a.prototype.removeEventListener){var b=a.prototype.addEventListener,c=a.prototype.removeEventListener;a.prototype.addEventListener=function(a,c,d){if('function'!==typeof c)return b.apply(this,arguments);for(var f=Array(arguments.length),e=0;e<arguments.length;e++)f[e]=arguments[e];f[1]=function(){try{return c.apply(this,
arguments)}catch(r){throw D(r),J=!0,r;}};f[1]=za(this,f[1],[a,c,null==d?!1:'object'===typeof d?!!d.fa:!!d]);return b.apply(this,f)};a.prototype.removeEventListener=function(a,b,e){if('function'!==typeof b)return c.apply(this,arguments);for(var f=Array(arguments.length),k=0;k<arguments.length;k++)f[k]=arguments[k];var h=[a,b,null==e?!1:'object'===typeof e?!!e.fa:!!e],k=this[d.F];if(null==k)k=b;else if(h=ka(this,h),-1===h)k=b;else{var n=k[h];k.splice(h,1);k=n.ba}f[1]=k;return c.apply(this,f)}}}function Ba(){e.fetch&&
e.Request&&(e.fetch=function(a,b){var c=new Request(a,b),n=c.url;if(ea(n))return la(c);var f={ts:p()-d.b,d:0,ty:'xhr',l:e.location.href,m:'',u:'',a:1,st:0,e:void 0};C(f);var h=u[v].f(),g=E(),k=ia(n)||H(d.J,n);h||(h=g);f.t=h;f.s=g;f.m=c.method;f.u=ha(n);f.a=1;f.bc=k?1:0;k&&(c.headers.append('X-INSTANA-T',h),c.headers.append('X-INSTANA-S',g),c.headers.append('X-INSTANA-L','1'));return la(c).then(function(a){f.st=a.status;f.d=p()-(f.ts+d.b);z(f);return a})['catch'](function(a){f.d=p()-(f.ts+d.b);f.e=
a.message;f.st=-103;z(f);throw a;})})}function ma(a){switch(a[0]){case 'apiKey':d.G=a[1];break;case 'key':d.G=a[1];break;case 'reportingUrl':d.B=a[1];break;case 'meta':d.v[a[1]]=a[2];break;case 'traceId':d.A=a[1];break;case 'ignoreUrls':d.O=a[1];break;case 'ignoreErrorMessages':d.M=a[1];break;case 'whitelistedOrigins':d.J=a[1];break;case 'manualPageLoadEvent':d.R=!0;break;case 'triggerPageLoad':d.S=!0;u[v].D();break;case 'xhrTransmissionTimeout':d.ca=a[1];break;case 'startSpaPageTransition':u[v].C();
break;case 'endSpaPageTransition':u[v].i(a[1]);break;case 'autoClearResourceTimings':d.K=a[1];break;case 'page':d.page=a[1];break;case 'ignorePings':d.N=a[1];break;case 'reportError':D(a[1]);break;case 'wrapEventHandlers':d.Z=a[1];break;case 'wrapTimers':d.aa=a[1];break;case 'sampleRate':d.sampleRate=a[1];break;case 'getPageLoadId':return d.g;case 'maxLengthForImgRequest':d.T=a[1];break;case 'disableResourceTimingTransmission':d.L=a[1];break;case 'user':a[1]&&(d.Y=String(a[1]).substring(0,128)),a[2]&&
(d.userName=String(a[2]).substring(0,128)),a[3]&&(d.X=String(a[3]).substring(0,128))}}function na(a){var b=e[a];'function'===typeof b&&(e[a]=function(a){for(var c=Array(arguments.length),d=0;d<arguments.length;d++)c[d]=arguments[d];c[0]=Ca(a);return b.apply(this,c)})}function Ca(a){return'function'!==typeof a?a:function(){try{return a.apply(this,arguments)}catch(b){throw D(b),J=!0,b;}}}function Da(){e[e[d.U]]=function(){return ma(arguments)}}var e=window,Y=e.document,G=navigator,ba=e.encodeURIComponent,
t=e.XMLHttpRequest,la=e.fetch,P=Object.prototype.hasOwnProperty,pa='0123456789abcdef'.split('');e.crypto&&e.crypto.getRandomValues&&e.Uint32Array&&(U=function(){var a=new e.Uint32Array(2);e.crypto.getRandomValues(a);return a[0].toString(16)+a[1].toString(16)});var E=U,N={},y={name:'e:onLoad',time:null,ia:function(){if('complete'===document.readyState)return V();qa(e,function(){setTimeout(V,0)})}},u={},v=void 0,m=e.performance||e.ta||e.ra||e.qa,T=m&&m.timing,R=m&&m.getEntriesByType,d={U:'EumObject',
g:E(),A:null,ma:'intid',b:p(),H:m&&m.now?m.now():0,o:p(),B:null,G:null,v:{},O:[],N:!0,M:[],ca:2E4,J:[],R:!1,S:!1,K:!0,page:void 0,Z:!1,F:'__weaselOriginalFunctions__',aa:!1,T:2E3,L:!1,Y:void 0,userName:void 0,X:void 0,sampleRate:1},Ea={w:function(){if(!d.R||d.S){var a=y.name;(N[a]=N[a]||[]).push(W);y.ia()}},f:function(){return d.g},j:function(){return'pl'},D:W,C:function(){},i:function(){}},X;X=G.languages&&0<G.languages.length?G.languages.slice(0,5).join(','):'string'===typeof G.na?''+G.na:void 0;
I.prototype.da=function(a,b){this.P(this.root,a.split(''),0,b)};I.prototype.P=function(a,b,c,d){var e=b[c];null==e?(a['<END>']=a['<END>']||[]).push(d):(a=a[e]=a[e]||{},this.P(a,b,c+1,d))};I.prototype.V=function(a){a=a||this.root;var b=Q(a);if(1===b.length&&'<END>'===b[0])return a['<END>'].slice();for(var c={},d=0,e=b.length;d<e;d++){var h=b[d],g=a[h];if('<END>'===h)c.$=g.slice();else{for(var g=h,h=a[h],k=Q(h);1===k.length&&'<END>'!==k[0];)g+=k[0],h=h[k[0]],k=Q(h);c[g]=this.V(h)}}return c};var aa=
{other:0,img:1,image:1,link:2,script:3,css:4,xmlhttprequest:5,fetch:5,beacon:5,html:6,navigation:6},S={sa:0,ea:1,oa:2,ha:3},l={},oa=!1,sa=/.*\/ping(\/?$|\?.*)/i,ga=0,K=0,A={},L=void 0,J=!1,M=null;try{M=document.createElement('a')}catch(a){}var x=null,q=null;try{x=document.createElement('a'),q=document.createElement('a'),q.href=e.location.href}catch(a){}var F={timeout:-100,abort:-101,ka:-102,error:-103},xa=/^X-INSTANA-T$/i;O('init',{w:function(){var a=e[e[d.U]];if(a&&a.q&&'number'===typeof a.l){for(var b=
a.q,c=0,l=b.length;c<l;c++)ma(b[c]);d.A=d.A||ya();d.o=a.l;Da();d.B&&(wa(),Ba(),ta(),d.aa&&(na('setTimeout'),na('setInterval')),d.Z&&Aa(e.EventTarget),'function'===typeof e.addEventListener&&e.addEventListener('unhandledrejection',va),B('waitForPageLoad'))}},f:function(){return d.g},j:function(){return'pl'},D:function(){},C:function(){},i:function(){}});u.waitForPageLoad=Ea;O('pageLoaded',{w:function(){if(!oa){oa=!0;var a={};C(a);a.ty='pl';a.t=d.g;a.bt=d.A;a.u=e.location.href;a.ph='pl';if(T){var b=
m.timing,c=b.redirectEnd-b.redirectStart,l=ca();a.ts=l-d.b;0<b.loadEventStart?a.d=b.loadEventStart-b.fetchStart:(a.d=Number(y.time)-d.o,a.tim='0');a.t_unl=b.unloadEventEnd-b.unloadEventStart;a.t_red=c;a.t_apc=b.domainLookupStart-b.fetchStart;a.t_dns=b.domainLookupEnd-b.domainLookupStart;null!=b.secureConnectionStart&&0<b.secureConnectionStart?(a.t_tcp=b.secureConnectionStart-b.connectStart,a.t_ssl=b.connectEnd-b.secureConnectionStart):(a.t_tcp=b.connectEnd-b.connectStart,a.t_ssl=0);a.t_req=b.responseStart-
b.requestStart;a.t_rsp=b.responseEnd-b.responseStart;a.t_dom=b.domContentLoadedEventStart-b.domLoading;a.t_chi=b.loadEventEnd-b.domContentLoadedEventStart;a.t_bac=b.responseStart-l;a.t_fro=b.loadEventEnd-b.responseStart;a.t_pro=b.loadEventStart-b.domLoading;a.t_loa=b.loadEventEnd-b.loadEventStart;if(R){for(var b=m.getEntriesByType('paint'),c=!1,f=0;f<b.length;f++){var h=b[f];switch(h.name){case 'first-paint':a.t_fp=h.startTime|0;c=!0;break;case 'first-contentful-paint':a.t_fcp=h.startTime|0}}c||da(a,
l)}else da(a,l)}else a.ts=ca()-d.b,a.d=Number(y.time)-d.o,T||(a.tim='0');Z(a);z(a)}},f:function(){return null},j:function(){},D:function(){},C:function(){B('spaTransition')},i:function(){}});O('spaTransition',{w:function(){l.t=E();l.ts=p();l.ty='spa'},f:function(){return l.t},j:function(){return'spa'},D:function(){},C:function(){B('spaTransition')},i:function(a){l.l=a.url;l.e=a.explanation;l.d=p()-l.ts;switch(a.status){case 'completed':l.s='c';break;case 'aborted':l.s='a';break;case 'error':l.s='e';
break;default:l.s='u'}C(l);l.ph='spa';Z(l,l.ts-1);z(l);B('pageLoaded')}});B('init')})();})();
//# sourceMappingURL=eum.min.js.map
